<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Send Your Cloth</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --chocolate:#3b1f0f;
  --dark-brown:#2a140a;
  --gold:#d4af37;
  --light-gold:#f6e7b2;
}

/* RESET */
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family:Poppins, Arial, sans-serif;
}

/* NAVBAR */
.navbar{
  background:#fff;
  padding:15px 50px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  border-bottom:2px solid var(--light-gold);
}

.logo{
  font-size:26px;
  font-weight:700;
  letter-spacing:2px;
  color:var(--gold);
}

.navbar ul{
  list-style:none;
  display:flex;
  gap:30px;
}

.navbar ul li a{
  text-decoration:none;
  color:#000;
  font-weight:500;
}

.navbar ul li a:hover{
  color:var(--gold);
}

/* PAGE BG */
.page-bg{
  min-height:100vh;
  background:linear-gradient(to bottom,var(--dark-brown),var(--chocolate));
  padding:60px 15px;
}

/* FORM CARD */
.form-card{
  max-width:800px;
  margin:auto;
  background:var(--light-gold);
  padding:40px;
  border-radius:20px;
}

.form-card h2{
  color:var(--gold);
  margin-bottom:8px;
}

.form-card p{
  color:#5a4a2f;
  margin-bottom:25px;
}

/* INPUTS */
.form-group{
  margin-bottom:16px;
}

input, textarea{
  width:100%;
  padding:14px 16px;
  border-radius:8px;
  border:1px solid #ccc;
  font-size:15px;
}

textarea{
  resize:none;
  height:120px;
}

/* MOBILE FIELD */
.mobile-wrap{
  display:flex;
  border:1px solid #ccc;
  border-radius:8px;
  overflow:hidden;
  background:#fff;
}

.country-code{
  padding:14px 16px;
  background:#eee;
  font-weight:600;
}

.mobile-wrap input{
  border:none;
  outline:none;
  flex:1;
}

/* BUTTON */
button{
  background:#331300;
  color:#fff;
  border:none;
  padding:14px 60px;
  border-radius:8px;
  font-size:15px;
  cursor:pointer;
  font-size: 20px;
}
.next{
  position: relative;
  margin-left: 20px;
}

.next a{
  
  text-decoration: none;
  font-size: 20px;
  color: #eee;
}
button:hover{
  background:#b8962e;
}

/* RESPONSIVE */
@media(max-width:768px){
  .navbar{
    flex-direction:column;
    gap:10px;
  }
  .navbar ul{
    flex-wrap:wrap;
    justify-content:center;
  }
}
</style>
<script>
  // Check if sessionId already exists in browser
  let sessionId = localStorage.getItem('sessionId');

  // If not, create a new one
  if (!sessionId) {
    sessionId = Date.now(); // simple unique ID
    localStorage.setItem('sessionId', sessionId);
  }
</script>
</head>

<body>

<!-- NAVBAR -->
<nav class="navbar">
  <div class="logo">MODASOU</div>
  <ul>
    <li><a href="index.html">Home</a></li>
    <li><a href="measurements.html">Measurements</a></li>
    <li><a href="designers.html">Designers</a></li>
    <li><a href="contact.html">Contact</a></li>
  </ul>
</nav>

<!-- FORM PAGE -->
<section class="page-bg">
  <div class="form-card">

    <h2>Send Your Measurement Cloth</h2>
    <h3>Enter your pickup address. We will arrange cloth pickup.</h3>
    <br><br>

  <form id="pickupForm">



      <!-- NAME -->
      <div class="form-group">
   <label style="display:block;margin-bottom:6px;font-weight:500;">
    Enter your full name
  </label>    <!-- NAME -->
<input
  type="text"
  id="fullname"
  name="fullname"
  placeholder="Full Name"
  required
  oninput="this.value=this.value.replace(/[^A-Za-z\s]/g,'')"
><br><br>

<!-- MOBILE -->
 <label style="display:block;margin-bottom:6px;font-weight:500;">
    Enter your watsapp number
  </label>
<div class="mobile-wrap">
  <span class="country-code">+91</span>
  <input
    type="tel"
    id="watsapp_number"
    name="watsapp_number"
    placeholder="10 digit watsapp number"
    maxlength="10"
    pattern="[6-9][0-9]{9}"
    required
    oninput="this.value=this.value.replace(/[^0-9]/g,'')"
  >
</div>
<br>
<!-- PICKUP DATE -->
<div class="form-group">
  <label style="display:block;margin-bottom:6px;font-weight:500;">
    Pickup Date
  </label>
  <input
    type="date"
    id="pickup_date"
    name="pickup_date"
    required
    min="2026-01-01"
  >
</div>

<!-- PICKUP TIME SLOT -->
<div class="form-group">
  <label style="display:block;margin-bottom:6px;font-weight:500;">
    Pickup Time Slot
  </label>
  <select
  id="pickup_time"
    name="pickup_time"
    required
    style="width:100%;padding:14px 16px;border-radius:8px;border:1px solid #ccc;font-size:15px;"
  >
    <option value="">Select Time Slot</option>
    <option value="9:00 AM - 1:00 PM">9:00 AM – 1:00 PM</option>
    <option value="1:00 PM - 6:00 PM">1:00 PM – 6:00 PM</option>
    <option value="6:00 PM - 10:00 PM">6:00 PM – 10:00 PM</option>
  </select>
</div>


<!-- ADDRESS -->
 <label style="display:block;margin-bottom:6px;font-weight:500;">
    Enter your full address
  </label>
<textarea
id="address"
  name="address"
  placeholder="Full Address (House no, Area, City)"
  required
></textarea>
<br><br>
<!-- PINCODE -->
 <label style="display:block;margin-bottom:6px;font-weight:500;">
    City pincode
  </label>
<input
  type="text"
  id="pincode"
  name="pincode"
  placeholder="Pincode"
  maxlength="6"
  pattern="[0-9]{6}"
  required
  oninput="this.value=this.value.replace(/[^0-9]/g,'')"
>
</div>

      <button type="submit">Schedule Cloth Pickup</button><br><br>
      <button class="next" type="next"><a href="/finalsubmit.html">Next</a></button>

    </form>
  </div>
</section>
<script type="module">
import { db } from "./firebase.js";
import { doc, setDoc } from
"https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const form = document.getElementById("pickupForm");

// reuse your existing sessionId
const sessionId = localStorage.getItem("sessionId");

form.addEventListener("submit", async (e) => {
  e.preventDefault();

  await setDoc(doc(db, "orders", sessionId), {
    pickup: {
      fullname: document.getElementById("fullname").value,
      watsapp_number: document.getElementById("watsapp_number").value,
      pickup_date: document.getElementById("pickup_date").value,
      pickup_time: document.getElementById("pickup_time").value,
      address: document.getElementById("address").value,
      pincode: document.getElementById("pincode").value
    }
  }, { merge: true });

  // move to FINAL page
  window.location.href = "final-submit.html";
});
</script>


</body>
</html>
