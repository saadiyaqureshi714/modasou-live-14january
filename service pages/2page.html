
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ModaSou | Customize Clothing</title>
  <link rel="stylesheet" href="style.css">
  <script>
  // Check if sessionId already exists in browser
  let sessionId = localStorage.getItem('sessionId');

  // If not, create a new one
  if (!sessionId) {
    sessionId = Date.now(); // simple unique ID
    localStorage.setItem('sessionId', sessionId);
  }
</script>
</head>
<style>
    * {
  box-sizing: border-box;
  font-family: Arial, sans-serif;
}

/* COLOR VARIABLES */
:root {
  --chocolate: #4b2e1f;
  --dark-brown: #2b1a12;
  --golden: #d4af37;
  --light-golden: #f5e6b0;
}

/* HEADER */
.site-header {
  background: #fff;
  border-bottom: 2px solid var(--light-golden);
  position: sticky;
  top: 0;
  z-index: 1000;
}

/* CONTAINER */
.nav-container {
  max-width: 1200px;
  margin: auto;
  padding: 15px 25px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

/* LOGO */
.logo {
  font-size: 26px;
  font-weight: 700;
  color: var(--golden);
  text-decoration: none;
  letter-spacing: 1px;
}

.logo:hover {
  color: var(--chocolate);
}

/* NAV MENU */
.nav-menu a {
  margin: 0 14px;
  text-decoration: none;
  color: var(--dark-brown);
  font-weight: 500;
  position: relative;
  padding-bottom: 5px;
}

/* HOVER EFFECT */
.nav-menu a::after {
  content: '';
  position: absolute;
  width: 0%;
  height: 2px;
  left: 0;
  bottom: 0;
  background: var(--golden);
  transition: 0.3s ease;
}

.nav-menu a:hover::after {
  width: 100%;
}

/* ACTIVE PAGE */
.nav-menu a.active {
  color: var(--golden);
}

.nav-menu a.active::after {
  width: 100%;
}


body {
  margin: 0;
  background: #331300;
}

.topbar {
  background: #4d2d18;
  color: white;
  padding: 15px;
  text-align: center;
}

.container {
  max-width: 1000px;
  margin: auto;
  padding: 30px;
  display: flex;
  justify-content: flex-start;
  align-items: center;
  
  gap: 20px;
}
.upload-box {
  width: 50%;
  border: 2px solid black;
  padding: 30px;
  text-align: center;
  background-color: #d4af37;
  border-radius: 20px;
}

.upload-box h3 {
  margin-bottom: 15px;
}

.upload-box input {
  display: none;
}

.upload-box label {
  background: #4d2d18;
  color: #fff;
  padding: 12px 24px;
  border-radius: 4px;
  cursor: pointer;
  display: inline-block;
}

.preview {
  background-color: #f5e6b0;
  margin-top: 20px;
}

.preview img {
  max-width: 100%;
  border-radius: 6px;
  border: 1px solid #ddd;
}


button {
  align-self: center;
  width: 60%;
  padding: 10px;
  border: none;
  background: #4d2d18;
  color: white;
  font-size: 14px;
  cursor: pointer;
  border-radius: 4px;
}

button:hover {
  background: #4d2d16;
}

img {
  width: 100%;
  max-height: 200px;
  margin-top: 10px;
  object-fit: contain;
  border: 1px solid #ddd;
}

.hint {
  font-size: 12px;
  color: #555;
  margin: 10px 0;
}

.designers {
  display: flex;
  gap: 10px;
}

.designers img {
  width: 30%;
  cursor: pointer;
  border: 2px solid transparent;
}

.designers img:hover {
  border-color: #4d2d16;
}
.submit-box {
  grid-column: span 2;
  text-align: center;
  margin-top: 20px;
}

.submit-box a{
  height: auto;
  max-width: 400px;
  background: #f5e6b0;
  color: #331300;
  padding: 15px 40px;
text-decoration: none;
  border: none;
  font-size: 20px;
  border-radius: 4px;
  cursor: pointer;
}
.submit-box a:hover {
  background: #d4af37;
}
.card{
  text-align: center;
  position: relative;
  left: 250px;
  width: 60%;
  background-color: #d4af37;
  max-height: 60vh;
  padding-left: 20px;
  margin-top: 20px;
  border:2px solid black ;
  
  line-height: normal;
  display: block;
  
  
  
  
}
.card ::content{
  align-items: center;
}
.card input{
  width: 80%;
  height: 40px;
}
.card p{
  color: black;
  font-size: 18px;
}
footer {
  text-align: center;
  padding: 15px;
  background: #222;
  color: white;
}

</style>
<header class="site-header">
  <div class="nav-container">

    <!-- LOGO (Click ‚Üí Home) -->
    <a href="/index.html" class="logo">MODASOU</a>

    <!-- NAV MENU -->
    <nav class="nav-menu">
      <a href="/index.html" class="active">Home</a>
      <a href="/about.html">About Us</a>
      <a href="/services.html">Services</a>
      <a href="/designers.html">Designers</a>
      <a href="/blog.html">Blog</a>
      <a href="/contact.html">Contact Us</a>
    </nav>

  </div>
</header>

<body>



<main class="container">

  <!-- FABRIC UPLOAD -->
  

  
    <div class="upload-box">
    <h3>Upload Fabric Photo</h3>
    <label for="fabricUpload">Choose Fabric Image</label>
    <input type="file" id="fabricUpload" accept="image/*">
    <div class="preview">
      <img id="fabricPreview">
    </div>
     <input type="file" id="fabricImg" accept="image/*" required>
<label>Upload Fabric</label><br><br>
  </div>

  <!-- Design Upload -->
  <div class="upload-box">
    <h3>Upload Your Design</h3>
    <label for="designUpload">Choose Design Image</label>
    <input type="file" id="designUpload" accept="image/*">
    <div class="preview">
      <img id="designPreview">
    </div>
     <input type="file" id="fabricImg" accept="image/*" required>
<label>Upload design</label><br><br>
</div>  </main>
  <!-- GOOGLE SEARCH + URL -->
  <div class="card">
    <h2>Search Design Online</h2>

    <button onclick="openGoogle()">üîç Search on Google Images</button>

    <p class="hint">
      Choose image ‚Üí Right click ‚Üí Copy image address ‚Üí Paste below
    </p>

    <input
      type="text"
      id="imageUrl"
      placeholder="Paste ANY image link here"
    ><br>
<br>
    <button onclick="loadImageFromUrl()">Preview Image</button>

    <img id="urlPreview"><br>
    


<button id="useImageBtn">Use this image</button>
  </div>





  <!-- DESIGNERS (LAST) -->
  
  
 <div class="submit-box">
<a href="/#" id="measurementBtn" target="_blank"  >
  Add your measurements
</a>                      <span style="font-size: larger;">   OR  </span>      

<a href="/send-your-cloth.html" id="measurementBtn2" target="_blank" >
  Send your measurement cloth
</a></div>



<br><br>

<footer>
  ¬© 2025 ModaSou
</footer>
<script>
  const params = new URLSearchParams(window.location.search);
  const service = params.get("service");

  document.getElementById("measurementBtn").addEventListener("click", function () {
    switch (service) {
      case "blouse":
        window.location.href = "measurement-blouse.html";
        break;

      case "dress":
        window.location.href = "measurement-dress.html";
        break;

      case "top":
        window.location.href = "measurement-Tops.html";
        break;
       
      case "kurta":
        window.location.href = "measurement-kurta.html";
        break;
  
      case "skirt":
        window.location.href = "measurement-skirt.html";
        break;

      case "lehenga":
        window.location.href = "measurement-lehenga.html";
        break;
       
      case "pant":
        window.location.href = "measurement-pants.html";
        break;
  
      default:
        alert("Please select a service first");
    }
  });
</script>



<script>
/* FILE PREVIEW */
function previewFile(input, previewId) {
  const file = input.files[0];
  if (!file) return;

  const reader = new FileReader();
  reader.onload = () => {
    document.getElementById(previewId).src = reader.result;
  };
  reader.readAsDataURL(file);
}

/* OPEN GOOGLE */
function openGoogle() {
  window.open(
    "https://www.google.com/search?tbm=isch&q=t+shirt+design",
    "_blank"
  );
}

/* LOAD IMAGE FROM ANY URL */
function loadImageFromUrl() {
  const url = document.getElementById("imageUrl").value.trim();
  const img = document.getElementById("urlPreview");

  if (!url) {
    alert("Please paste an image link");
    return;
  }

  img.onload = () => {
    console.log("Image loaded successfully");
  };

  img.onerror = () => {
    alert(
      "This image cannot be loaded.\n\n" +
      "Possible reasons:\n" +
      "‚Ä¢ Image is protected\n" +
      "‚Ä¢ Hotlink blocked\n" +
      "‚Ä¢ Not an image URL"
    );
    img.src = "";
  };

  img.src = url; // NO restriction at all
}

/* SELECT DESIGN */
function selectDesign(src) {
  document.getElementById("designPreview").src = src;
  window.scrollTo({ top: 0, behavior: "smooth" });
}
</script>
<script>
document.getElementById("useImageBtn").onclick = async () => {

  const file = document.getElementById("service2Img").files[0];

  if (!file) {
    alert("Please upload an image first");
    return;
  }

  // Upload image to Firebase Storage
  const imgRef = firebase.storage()
    .ref(`uploads/${sessionId}/service2_${Date.now()}`);

  await imgRef.put(file);
  const imageURL = await imgRef.getDownloadURL();

  // Save image URL in Firestore
  await firestore.collection("submissions").add({
    sessionId: sessionId,
    formName: "Service2_Image",
    imageUrl: imageURL,
    timestamp: firebase.firestore.FieldValue.serverTimestamp()
  });

  // Move to next page
  window.location.href = "service3.html";
};
</script>


</body>
</html>
