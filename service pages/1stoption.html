

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Customize Your Clothing | ModaSou</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

<style>
body {
  font-family: 'Inter', sans-serif;
  background: #4a2a18;
  margin: 0;
  padding: 0;
}

.header {
  padding: 20px 40px;
  background: #fff;
  border-bottom: 1px solid #eee;
  font-size: 22px;
  font-weight: 700;
}

.header span {
  color: #4a2a18;
}

.container {
  max-width: 1000px;
  margin: 40px auto;
  background: #f5e6b0;
  padding: 30px;
  border-radius: 8px;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 30px;
}

.upload-box {
  flex:1;
  border: 2px dashed black;
  padding: 30px;
  text-align: center;
  border-radius: 6px;
}

.upload-box h3 {
  margin-bottom: 15px;
}
.upload-box input {
  display: none;
}

.upload-box label {
  background: #4a2a18;
  color: #fff;
  padding: 12px 24px;
  border-radius: 4px;
  cursor: pointer;
  display: inline-block;
}
.upload_wrapper{
  display: flex;
  gap:30px;
}
.preview {
  margin-top: 20px;
}

.preview img {
  max-width: 100%;
  border-radius: 6px;
  border: 1px solid #ddd;
}

.submit-box {
  grid-column: span 2;
  text-align: center;
  margin-top: 20px;
  position: relative;
  z-index: 10;
}
.btn-measure {
  display: inline-block;
  padding: 14px 30px;
  background: #4a2a18;
  color: #fff;
  text-decoration: none;
  border-radius: 30px;
  font-weight: 600;
}

.btn-measure :hover {
  background: #be85088f;
}
.btn-measure,
.btn-measure * {
  pointer-events: auto;
}
.btn-measure a{
  color: #eee;
  text-decoration: none;
}
.submit-box button {
  background: #2b1a12;
  color: #fff;
  padding: 15px 40px;
  border: none;
  font-size: 16px;
  border-radius: 4px;
  cursor: pointer;
}

.btn-measure button:hover {
  background: #be85088f;
}
.submit-box,
.submit-box * {
  pointer-events: auto;
}

/* COLOR VARIABLES */
:root {
  --chocolate: #4b2e1f;
  --dark-brown: #2b1a12;
  --golden: #d4af37;
  --light-golden: #f5e6b0;
}

/* HEADER */
.site-header {
  background: #fff;
  border-bottom: 2px solid var(--light-golden);
  position: sticky;
  top: 0;
  z-index: 1000;
}


</style>
<script>
  // Check if sessionId already exists in browser
  let sessionId = localStorage.getItem('sessionId');

  // If not, create a new one
  if (!sessionId) {
    sessionId = Date.now(); // simple unique ID
    localStorage.setItem('sessionId', sessionId);
  }
</script>
</head>
<header class="site-header">
  <div class="nav-container">

    <!-- LOGO (Click â†’ Home) -->
    <a href="/index.html" class="logo">MODASOU</a>

    <!-- NAV MENU -->
    <nav class="nav-menu">
      <a href="/index.html" class="active">Home</a>
      <a href="/about.html">About Us</a>
      <a href="/services.html">Services</a>
      <a href="/designers.html">Designers</a>
      <a href="/blog.html">Blog</a>
      <a href="/contact.html">Contact Us</a>
    </nav>

  </div>
</header>


<body>

<div class="container">

  
  
  <!-- Fabric Upload -->
  <div class="upload-box"> 
    <h3>Upload Fabric Photo</h3>

    <label for="fabricUpload">Choose Fabric Image</label>
    <input 
      type="file" 
      id="fabricImg" 
      name="fabric_image" 
      accept="image/*"
      required
    >

    <div class="preview">
      <img id="fabricPreview">
    </div>
    <input type="file" id="fabricUpload" accept="image/*" required>
<label>Upload Fabric</label><br><br>
</div>

  <!-- Design Upload -->
  <div class="upload-box">
    <h3>Upload Your Design</h3>





    <label for="designUpload">Choose Design Image</label>

    <input 
      type="file" 
      id="designUpload" 
      name="design_image" 
      accept="image/*"
    >

    <div class="preview">
      <img id="designPreview">
    </div>
    <input type="file" id="designImg" accept="image/*" required>
<label>Upload Design</label><br><br>
</div>

  <!-- Buttons -->


 <div class="submit-box"><button class="btn-measure">
<a href="/#" id="measurementBtn" target="_blank"  >
  Add your measurements  </a></button>      
  <span style="font-size: larger; ">   OR  </span>      
<button class="btn-measure">
<a href="/send-your-cloth.html" id="measurementBtn2" target="_blank" >
  Send your measurement cloth
</a></button></div>






  </div>


  
  </div>


<script>
  const params = new URLSearchParams(window.location.search);
  const service = params.get("service");

  document.getElementById("measurementBtn").addEventListener("click", function () {
    switch (service) {
      case "blouse":
        window.location.href = "measurement-blouse.html";
        break;

      case "dress":
        window.location.href = "measurement-dress.html";
        break;

      case "top":
        window.location.href = "measurement-Tops.html";
        break;
       
      case "kurta":
        window.location.href = "measurement-kurta.html";
        break;
  
      case "skirt":
        window.location.href = "measurement-skirt.html";
        break;

      case "lehenga":
        window.location.href = "measurement-lehenga.html";
        break;
       
      case "pant":
        window.location.href = "measurement-pants.html";
        break;
  
      default:
        alert("Please select a service first");
    }
  });
</script>

<script>
function previewImage(input, previewId) {
  const file = input.files[0];
  if (file) {
    const reader = new FileReader();
    reader.onload = function(e) {
      document.getElementById(previewId).src = e.target.result;
    }
    reader.readAsDataURL(file);
  }
}

document.getElementById('fabricUpload').addEventListener('change', function() {
  previewImage(this, 'fabricPreview');
});

document.getElementById('designUpload').addEventListener('change', function() {
  previewImage(this, 'designPreview');
});
</script>
<script>
document.getElementById("nextBtn").onclick = async () => {

  const fabricFile = document.getElementById("fabricImg").files[0];
  const designFile = document.getElementById("designImg").files[0];

  if (!fabricFile || !designFile) {
    alert("Please upload both Fabric and Design images");
    return;
  }

  // Upload Fabric Image
  const fabricRef = firebase.storage()
    .ref(`uploads/${sessionId}/fabric_${Date.now()}`);
  await fabricRef.put(fabricFile);
  const fabricURL = await fabricRef.getDownloadURL();

  // Upload Design Image
  const designRef = firebase.storage()
    .ref(`uploads/${sessionId}/design_${Date.now()}`);
  await designRef.put(designFile);
  const designURL = await designRef.getDownloadURL();

  // Save BOTH URLs in Firestore
  await firestore.collection("submissions").add({
    sessionId: sessionId,
    formName: "Service1_Images",
    fabricImage: fabricURL,
    designImage: designURL,
    timestamp: firebase.firestore.FieldValue.serverTimestamp()
  });

  // Go to next page
  
};
</script>

</body>
</html>
